# QA Service API

Простой API-сервис для вопросов и ответов.

## Описание

Сервис позволяет:
- Создавать, получать и удалять вопросы.
- Добавлять, получать и удалять ответы к вопросам.
- Один пользователь может оставлять несколько ответов на один вопрос.
- При удалении вопроса автоматически удаляются все ответы (каскадное удаление).

## Технологии

- Go (net/http, GORM)
- PostgreSQL
- Миграции через Goose
- Docker & docker-compose
- Тесты через httptest и testify

## Запуск проекта

1. Склонируйте репозиторий:

```bash
git clone https://github.com/del1x/test-api-qa.git
cd test-api-qa
```
2. Постройте и запустите контейнеры через Docker Compose:
3. 
```bash
docker compose up --build
```

3. Приложение будет доступно на http://localhost:8080.

## Миграции

Миграции управляются через Goose. Пример команды для применения миграций:

```bash
docker compose exec app goose up
```

## Endpoints API

Вопросы (Questions)

| Метод  | Путь            | Описание                         |
| ------ | --------------- | -------------------------------- |
| GET    | /questions/     | Получить все вопросы             |
| POST   | /questions/     | Создать новый вопрос             |
| GET    | /questions/{id} | Получить вопрос и все его ответы |
| DELETE | /questions/{id} | Удалить вопрос и его ответы      |

Ответы (Answers)

| Метод  | Путь                     | Описание                  |
| ------ | ------------------------ | ------------------------- |
| POST   | /questions/{id}/answers/ | Добавить ответ к вопросу  |
| GET    | /answers/{id}            | Получить конкретный ответ |
| DELETE | /answers/{id}            | Удалить ответ             |

Тесты

Чтобы запустить тесты:

```bash
go test ./tests/...
```
